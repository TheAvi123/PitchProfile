import React, { useEffect, Suspense } from "react";
import { OrbitControls } from '@react-three/drei';
import { Canvas } from '@react-three/fiber';
import * as THREE from "three";

const pointSize = 0.01;

var posData = [];

var defaultPosData = [[0.14219999999999988,0.07829999999999998,0.06569999999999987],[0.2261000000000002,-0.05789999999999995,0.23589999999999978],[0.1806000000000001,0.01319999999999999,0.0774999999999999],[0.20699999999999985,0.07290000000000002,0.1412],[0.1977000000000002,0.09570000000000001,0.16049999999999986],[0.22160000000000002,0.030200000000000005,0.20309999999999984],[0.16900000000000004,0.133,0.07509999999999994],[0.13379999999999992,0.09839999999999999,0.08820000000000006],[0.18230000000000013,0.013500000000000012,0.13839999999999986],[0.15490000000000004,0.012400000000000022,0.2268000000000001],[0.12360000000000015,0.15089999999999998,0.14680000000000004],[0.2320000000000002,0.11370000000000002,0.20620000000000016],[0.08519999999999994,-0.005900000000000016,0.2127000000000001],[0.1513,0.1547,0.08309999999999995],[0.10939999999999994,0.16260000000000002,0.17409999999999992],[0.24319999999999986,0.07369999999999999,0.16649999999999987],[0.06440000000000001,0.0645,0.18879999999999986],[0.1600999999999999,0.16570000000000001,0.09949999999999992],[0.15669999999999984,0.1392,0.11099999999999999],[0.07350000000000012,0.21139999999999998,0.13690000000000002],[0.18840000000000012,0.15500000000000003,0.10040000000000004],[0.07450000000000001,0.11149999999999999,0.20499999999999985],[0.2614000000000001,0.1119,0.19059999999999988],[0.07359999999999989,0.14389999999999997,0.1198999999999999],[0.2549999999999999,0.1723,0.0794999999999999],[0.2542,0.15649999999999997,0.24550000000000005],[0.23039999999999994,0.20839999999999997,0.14419999999999988],[0.18789999999999996,0.1936,0.21009999999999995],[0.16400000000000015,0.26649999999999996,0.2548999999999999],[0.0788000000000002,0.1274,0.1419999999999999],[0.1238999999999999,0.09870000000000001,0.23829999999999996],[0.11770000000000014,0.262,0.23860000000000015],[0.20310000000000006,0.2081,0.24999999999999978],[0.1867000000000001,0.15889999999999999,0.27580000000000005],[0.19160000000000021,0.2891,0.24550000000000005],[0.24250000000000016,0.2141,0.1420999999999999],[0.12139999999999995,0.33230000000000004,0.1864999999999999],[0.16290000000000004,0.2489,0.13569999999999993],[0.1806000000000001,0.1881,0.24439999999999995],[0.11280000000000001,0.2475,0.23199999999999998],[0.21229999999999993,0.3492,0.23659999999999992],[0.26690000000000014,0.2774,0.13639999999999985],[0.24630000000000019,0.274,0.17569999999999997],[0.21110000000000007,0.3166,0.2912999999999999],[0.1278999999999999,0.21450000000000002,0.12060000000000004],[0.24040000000000017,0.20240000000000002,0.17069999999999985],[0.09759999999999991,0.273,0.10399999999999987],[0.11129999999999995,0.33240000000000003,0.24850000000000017],[0.1615000000000002,0.275,0.19869999999999988],[0.2357999999999998,0.34750000000000003,0.2621],[0.21629999999999994,0.4052,0.22939999999999983],[0.12009999999999987,0.423,0.11369999999999991],[0.24149999999999983,0.423,0.18510000000000004],[0.2732999999999999,0.31789999999999996,0.3042],[0.18100000000000005,0.29169999999999996,0.18969999999999998],[0.26770000000000005,0.4067,0.11399999999999988],[0.19919999999999982,0.261,0.11250000000000004],[0.2984,0.4274,0.2691999999999999],[0.16349999999999998,0.306,0.28369999999999984],[0.12670000000000003,0.2834,0.30610000000000004],[0.14049999999999985,0.3231,0.12019999999999986],[0.2867000000000002,0.4189,0.12050000000000005],[0.24829999999999997,0.34509999999999996,0.2003999999999999],[0.3123,0.4786,0.17569999999999997],[0.15600000000000014,0.45589999999999997,0.13569999999999993],[0.3035000000000001,0.3437,0.13939999999999997],[0.1473,0.321,0.30279999999999974],[0.23629999999999995,0.3876,0.16839999999999988],[0.2801999999999998,0.43720000000000003,0.18379999999999996],[0.3132999999999999,0.3308,0.17779999999999996],[0.3212999999999999,0.5013,0.13019999999999987],[0.2757999999999998,0.4188,0.22979999999999978],[0.2376999999999998,0.4554,0.3246],[0.3285999999999998,0.4785,0.1964999999999999],[0.25749999999999984,0.5329,0.15169999999999995],[0.28790000000000004,0.5354,0.24939999999999984],[0.26339999999999986,0.5162,0.1580999999999999],[0.2355999999999998,0.5528,0.20079999999999987],[0.2197,0.4226,0.28800000000000003],[0.21079999999999988,0.5749,0.2588999999999999],[0.25839999999999996,0.43,0.15290000000000004],[0.15010000000000012,0.4464,0.25549999999999984],[0.2881999999999998,0.5783,0.17510000000000003],[0.29389999999999983,0.4281,0.23659999999999992],[0.33809999999999985,0.5164,0.26939999999999986],[0.29720000000000013,0.4635,0.26939999999999986],[0.34299999999999997,0.5907,0.27900000000000014],[0.2641,0.42610000000000003,0.16199999999999992],[0.17680000000000007,0.4982,0.26859999999999995],[0.17939999999999978,0.5523,0.32199999999999984],[0.19110000000000005,0.5139,0.1674],[0.3035000000000001,0.5689,0.33609999999999984],[0.2677999999999998,0.4526,0.24269999999999992],[0.29289999999999994,0.5288,0.1581999999999999],[0.24670000000000014,0.5972999999999999,0.23009999999999997],[0.2073999999999998,0.5735,0.16599999999999993],[0.3601000000000001,0.5572,0.1854],[0.3382999999999998,0.6467,0.3436000000000001],[0.17030000000000012,0.5611,0.23460000000000014],[0.20610000000000017,0.6422,0.23080000000000012],[0.19010000000000016,0.6301,0.20399999999999996],[0.3416000000000001,0.6857,0.3337999999999999],[0.33930000000000016,0.5274,0.20989999999999998],[0.23399999999999999,0.6686,0.22050000000000014],[0.18619999999999992,0.5883,0.2501],[0.3048000000000002,0.7065,0.3257000000000001],[0.27879999999999994,0.7171,0.19489999999999985],[0.30580000000000007,0.6333,0.1963999999999999],[0.3174000000000001,0.6133,0.3095000000000001],[0.3336999999999999,0.597,0.33879999999999977],[0.2541000000000002,0.7389,0.29600000000000004],[0.3235000000000001,0.5765,0.3699000000000001],[0.23170000000000002,0.7045,0.2114999999999998],[0.3599000000000001,0.7369,0.32400000000000007],[0.3519000000000001,0.6143,0.3488],[0.2378,0.7414000000000001,0.1903999999999999],[0.21519999999999984,0.741,0.3714000000000002],[0.2995000000000001,0.6352,0.1923999999999999],[0.23240000000000016,0.667,0.22260000000000013],[0.23030000000000017,0.6024,0.18530000000000002],[0.38260000000000005,0.7193,0.30469999999999975],[0.27079999999999993,0.7218,0.27659999999999996],[0.2854000000000001,0.6001,0.23129999999999984],[0.2158000000000002,0.6709,0.21719999999999984],[0.2582,0.6083,0.3499000000000001],[0.2599999999999998,0.7544,0.28029999999999977],[0.2168000000000001,0.6691,0.24780000000000002],[0.2134999999999998,0.7797000000000001,0.2541],[0.2351000000000001,0.6930000000000001,0.3676999999999999],[0.31389999999999985,0.6922,0.30259999999999976],[0.3759000000000001,0.7937000000000001,0.20979999999999976],[0.23240000000000016,0.8255,0.3507],[0.2852999999999999,0.6689,0.26],[0.367,0.7794,0.37050000000000005],[0.29110000000000014,0.7924,0.29810000000000003],[0.2259000000000002,0.7669,0.3225999999999998],[0.22999999999999998,0.8452,0.3013000000000001],[0.3376000000000001,0.7343,0.31410000000000005],[0.34909999999999997,0.8255,0.3394999999999999],[0.3746999999999998,0.79,0.2659],[0.24529999999999985,0.7831,0.30369999999999986],[0.3752,0.8513999999999999,0.2419],[0.2932999999999999,0.6970000000000001,0.3646999999999998],[0.2831999999999999,0.7836000000000001,0.22289999999999988],[0.37639999999999985,0.8449,0.3996000000000002],[0.4058999999999999,0.7291,0.2849999999999999],[0.32399999999999984,0.7327,0.3869999999999998],[0.3353999999999999,0.8936999999999999,0.32630000000000003],[0.2864,0.8811,0.2550999999999999],[0.35519999999999996,0.7481,0.3772],[0.2574000000000001,0.8472,0.3678999999999999],[0.4154,0.9198999999999999,0.2476999999999998],[0.35740000000000016,0.745,0.3987999999999998],[0.42969999999999997,0.9028,0.3682000000000001],[0.2559,0.7761,0.24139999999999984],[0.42680000000000007,0.9336,0.4206000000000001],[0.3712,0.8828,0.2565000000000002],[0.28790000000000004,0.8309,0.37070000000000003],[0.40790000000000015,0.9526,0.25149999999999983],[0.42390000000000017,0.8946000000000001,0.3114000000000001],[0.4214000000000002,0.8378,0.32279999999999975],[0.4074,0.9423,0.2764],[0.3304999999999998,0.9075,0.3600000000000001],[0.30010000000000003,0.8024,0.24649999999999994],[0.4436,0.8116,0.29039999999999977],[0.3037000000000001,0.9027000000000001,0.3613000000000002],[0.27959999999999985,0.9418,0.24309999999999987],[0.33329999999999993,0.9173,0.4223000000000001],[0.27269999999999994,0.9459,0.42080000000000006],[0.371,0.8667,0.43720000000000003],[0.40490000000000004,0.9699,0.41600000000000015],[0.27490000000000014,0.9929,0.3861000000000001],[0.2942999999999998,0.8654999999999999,0.2874000000000001],[0.3073999999999999,0.8705,0.30069999999999975],[0.3224,0.9202,0.31459999999999977],[0.2942999999999998,0.8339,0.4286000000000001],[0.44609999999999994,0.9556,0.2531000000000001],[0.27280000000000015,0.9256,0.4414999999999998],[0.4011999999999998,0.9691000000000001,0.41090000000000004],[0.3530000000000002,0.9436,0.3598999999999999],[0.3043999999999998,0.9450000000000001,0.3122999999999998],[0.3618000000000001,1.0169000000000001,0.2964],[0.4361999999999999,0.9166000000000001,0.43620000000000014],[0.3586999999999998,0.8487,0.3791],[0.36129999999999995,0.8573,0.34889999999999977],[0.4748999999999999,1.0316999999999998,0.3089000000000002],[0.32200000000000006,0.9601,0.4290999999999998],[0.42910000000000004,0.9,0.4440000000000002],[0.4283000000000001,1.0154999999999998,0.3480000000000001],[0.3931,0.9519,0.4656999999999998],[0.4557000000000002,0.9567,0.28380000000000005],[0.42779999999999996,1.0068000000000001,0.34429999999999983],[0.35009999999999986,0.9334,0.30099999999999993],[0.4527000000000001,0.9045000000000001,0.4698],[0.4302999999999999,0.979,0.35050000000000003],[0.3330000000000002,0.9097,0.2813000000000001],[0.3357999999999999,0.9448,0.47430000000000017],[0.36739999999999995,0.9061,0.29520000000000013],[0.3237000000000001,1.0655999999999999,0.2849999999999999],[0.4977999999999998,0.9392,0.47050000000000014],[0.34509999999999996,1.0953,0.4734999999999998],[0.47619999999999996,0.9605,0.35949999999999993],[0.35809999999999986,1.1035,0.41010000000000013],[0.4523999999999999,0.9334,0.3257000000000001],[0.47250000000000014,1.0544,0.39229999999999987],[0.42379999999999995,1.0144,0.35209999999999986],[0.31499999999999995,1.0522,0.2922999999999998],[0.32330000000000014,0.9385,0.30279999999999974],[0.4014000000000002,1.1235,0.3078000000000001],[0.3536999999999999,1.1249,0.3941000000000001],[0.4476,1.1364,0.4875999999999998],[0.3233999999999999,0.9551000000000001,0.3371000000000002],[0.4310999999999998,1.0439,0.486],[0.3597999999999999,1.0337,0.41759999999999997],[0.44510000000000005,1.0833,0.36319999999999975],[0.3365,1.0229,0.33010000000000006],[0.3944000000000001,1.1025,0.46829999999999994],[0.5005999999999999,0.9831,0.31669999999999976],[0.42090000000000005,1.0076,0.4566000000000001],[0.4266000000000001,1.1228,0.3661000000000001],[0.49849999999999994,1.1279,0.4557],[0.5175000000000001,1.08,0.46589999999999976],[0.3668999999999998,1.1213,0.3204],[0.5255000000000001,1.1242999999999999,0.33099999999999974],[0.3948999999999998,1.1324999999999998,0.5092999999999999],[0.41579999999999995,1.1274,0.4747000000000001],[0.48660000000000014,1.0727,0.42800000000000016],[0.4956999999999998,1.1099999999999999,0.377],[0.43820000000000014,1.1416,0.36429999999999985],[0.4702000000000002,1.0211000000000001,0.34230000000000005],[0.5095000000000001,1.009,0.3579000000000001],[0.5337000000000001,1.1162,0.45430000000000015],[0.5017,1.1608,0.47019999999999995],[0.39800000000000013,1.0572,0.40380000000000016],[0.48150000000000004,1.048,0.37929999999999997],[0.3860999999999999,1.0946,0.43559999999999977],[0.3595999999999999,1.1322999999999999,0.48250000000000015],[0.5434999999999999,1.2107,0.45030000000000014],[0.43900000000000006,1.1864,0.33509999999999995],[0.5259999999999998,1.0826,0.35940000000000016],[0.5348000000000002,1.091,0.40959999999999996],[0.5327000000000002,1.1027,0.42579999999999996],[0.5101,1.1631,0.46399999999999975],[0.35840000000000005,1.1898,0.39680000000000004],[0.5307,1.2134,0.3539000000000001],[0.4939,1.2245,0.5086000000000002],[0.4264999999999999,1.1465999999999998,0.42710000000000004],[0.5314000000000001,1.0554000000000001,0.4042999999999999],[0.42059999999999986,1.0565,0.36719999999999975],[0.4285000000000001,1.2082000000000002,0.4513999999999998],[0.4799000000000002,1.2008999999999999,0.5170999999999999],[0.4335,1.1592,0.4848999999999999],[0.5272000000000001,1.2370999999999999,0.36749999999999994],[0.4796,1.1179000000000001,0.36809999999999987],[0.5213999999999999,1.1843,0.4690000000000001],[0.5267,1.089,0.5022],[0.49250000000000016,1.2296,0.4572999999999998],[0.5733000000000001,1.1136,0.44909999999999983],[0.3793000000000002,1.0901,0.4172999999999998],[0.5377999999999998,1.2274,0.4978999999999998],[0.5173999999999999,1.1476,0.5174999999999998],[0.5125000000000002,1.2528000000000001,0.4831000000000001],[0.4192,1.0745,0.5287],[0.4908999999999999,1.1269,0.39339999999999997],[0.5411999999999999,1.1798,0.49859999999999993],[0.45109999999999983,1.1293,0.5426],[0.41480000000000006,1.1156000000000001,0.40659999999999985],[0.43800000000000017,1.1972,0.49039999999999995],[0.5333999999999999,1.2024,0.4353],[0.4356,1.1535,0.45999999999999974],[0.4104000000000001,1.1732,0.49],[0.4112,1.1202,0.39669999999999983],[0.556,1.2279,0.4785999999999999],[0.4504999999999999,1.1743000000000001,0.48399999999999976],[0.5118,1.2175,0.5530000000000002],[0.4908999999999999,1.2952,0.37519999999999976],[0.5381999999999998,1.2008,0.5155999999999998],[0.5116,1.3004,0.42779999999999974],[0.5104000000000002,1.1156000000000001,0.42549999999999977],[0.4321999999999999,1.2031,0.4372999999999998],[0.5314000000000001,1.1758,0.5454000000000001],[0.6053000000000002,1.1583999999999999,0.47450000000000014],[0.5185,1.2563,0.3857999999999999],[0.46030000000000015,1.2405,0.4568000000000001],[0.42989999999999995,1.2262,0.5332999999999999],[0.5836999999999999,1.1997,0.4829999999999999],[0.4249999999999998,1.237,0.5126999999999999],[0.5491000000000001,1.2167,0.41180000000000017],[0.5594999999999999,1.2748,0.41180000000000017],[0.6032000000000002,1.2597,0.3951],[0.5326,1.2309,0.4303000000000001],[0.5066999999999999,1.2642,0.4437],[0.5,1.2842,0.5767],[0.6135000000000002,1.2075,0.5264],[0.5364,1.3148,0.46809999999999996],[0.6099999999999999,1.2927,0.5753000000000001],[0.4664999999999999,1.2168,0.4374999999999998],[0.6118999999999999,1.1362,0.5946999999999998],[0.5394000000000001,1.2924,0.5580999999999998],[0.4428000000000001,1.2810000000000001,0.4128999999999998],[0.43210000000000015,1.2614,0.45099999999999985],[0.6309999999999998,1.2948,0.4879],[0.6280999999999999,1.1571,0.42889999999999984],[0.5388999999999999,1.3199,0.4532999999999998],[0.5602999999999998,1.1616,0.5334999999999999],[0.5920999999999998,1.2831000000000001,0.5755000000000001],[0.5482999999999998,1.1595,0.4252],[0.4455,1.2144,0.4589000000000001],[0.5099999999999998,1.1854,0.6014000000000002],[0.5758999999999999,1.2521,0.48639999999999994],[0.4969000000000001,1.2469999999999999,0.5921000000000001],[0.4554999999999998,1.2912,0.5210000000000001],[0.4687000000000001,1.292,0.4757],[0.6049000000000002,1.2511,0.5536999999999999],[0.5510999999999999,1.3244,0.5039999999999998],[0.5341999999999998,1.2869000000000002,0.5649],[0.5453999999999999,1.2325,0.48509999999999986],[0.5230000000000001,1.2952,0.5511999999999999],[0.49109999999999987,1.2814,0.5925],[0.6168,1.224,0.4336],[0.5221,1.325,0.5046999999999999],[0.46240000000000014,1.3653,0.5370000000000001],[0.6331000000000002,1.3397999999999999,0.5468],[0.5409999999999999,1.3244,0.45019999999999993],[0.5421,1.3653,0.5325],[0.5543,1.2821,0.6266999999999998],[0.48519999999999985,1.3449,0.46140000000000003],[0.5762999999999998,1.2426,0.4486000000000001],[0.48470000000000013,1.3671,0.49139999999999984],[0.5777999999999999,1.2042000000000002,0.4690000000000001],[0.6063000000000001,1.2697,0.49070000000000014],[0.5905,1.2018,0.4892000000000001],[0.5409999999999999,1.248,0.5445999999999998],[0.5762999999999998,1.1833,0.5214999999999999],[0.6692999999999998,1.2054,0.5650000000000002],[0.5838000000000001,1.1983000000000001,0.5052999999999999],[0.6234999999999999,1.2707000000000002,0.6327999999999998],[0.4876999999999998,1.3296000000000001,0.5738000000000001],[0.5021,1.3111000000000002,0.5109000000000001],[0.5337999999999998,1.1997,0.6287999999999998],[0.5373000000000001,1.2833,0.5271999999999999],[0.49719999999999986,1.2377,0.5906999999999998],[0.6551,1.3435000000000001,0.5105000000000002],[0.5326,1.2833999999999999,0.4999],[0.5276999999999998,1.25,0.6535],[0.5968,1.3578999999999999,0.6243999999999998],[0.556,1.3214000000000001,0.5307000000000002],[0.5364,1.3512,0.47850000000000015],[0.6499999999999999,1.279,0.5365],[0.5013999999999998,1.2852000000000001,0.6197999999999999],[0.6513,1.3907,0.5182],[0.6476999999999999,1.1985000000000001,0.6369],[0.6646999999999998,1.2138,0.6373],[0.6282000000000001,1.1933,0.5972999999999999],[0.6897000000000002,1.2351,0.5534000000000001],[0.6402999999999999,1.2850000000000001,0.48960000000000004],[0.5533000000000001,1.3883,0.5559000000000001],[0.5853000000000002,1.3719000000000001,0.6605999999999999],[0.5531000000000001,1.3475000000000001,0.49119999999999986],[0.613,1.2158,0.4766999999999999],[0.6608999999999998,1.2473999999999998,0.48040000000000016],[0.6246,1.3044,0.6512],[0.7035,1.3902,0.6264999999999998],[0.5324,1.3445,0.5298999999999998],[0.5464000000000002,1.3343,0.6405000000000001],[0.6583000000000001,1.2602,0.5769999999999997],[0.7130999999999998,1.3169,0.4917],[0.6356000000000002,1.3129,0.5969],[0.5285000000000002,1.3184,0.5104],[0.6608,1.2812999999999999,0.5389999999999999],[0.6774,1.3958,0.5349999999999999],[0.7056,1.3323,0.5940999999999999],[0.5447000000000002,1.3325,0.5967],[0.6745999999999999,1.2048,0.6811999999999998],[0.6882999999999999,1.3776000000000002,0.6695],[0.5869,1.3066,0.5601],[0.617,1.2946,0.49450000000000016],[0.6543000000000001,1.3434,0.5761000000000001],[0.5899000000000001,1.318,0.6908999999999998],[0.7136,1.2085,0.6704999999999999],[0.5712000000000002,1.2744,0.5273999999999999],[0.7090000000000001,1.2326000000000001,0.6178000000000001],[0.5895999999999999,1.2088,0.6180000000000001],[0.5779000000000001,1.2437,0.6468999999999998],[0.5813999999999999,1.2214,0.5929999999999997],[0.7212999999999998,1.2743,0.5403999999999998],[0.5783,1.2426,0.6134000000000002],[0.6410999999999998,1.2894,0.6704999999999999],[0.6575000000000002,1.3756,0.6384999999999998],[0.7117,1.3033000000000001,0.5934999999999999],[0.7501000000000002,1.3277999999999999,0.5464999999999998],[0.7046999999999999,1.2970000000000002,0.6125999999999998],[0.5977000000000001,1.334,0.6571],[0.7229000000000001,1.2755,0.5824],[0.7509999999999999,1.3938000000000001,0.5708],[0.6497999999999999,1.3189,0.5530000000000002],[0.7101999999999999,1.2231,0.6567999999999998],[0.7033999999999998,1.2939,0.6546000000000001],[0.6573000000000002,1.2403,0.5473000000000001],[0.5701999999999998,1.3973,0.6965999999999999],[0.6061999999999999,1.3868,0.7001999999999999],[0.6905000000000001,1.3932,0.5736999999999999],[0.6156999999999999,1.3002,0.623],[0.7006999999999999,1.2088,0.5589000000000002],[0.6230000000000002,1.3369,0.6980000000000002],[0.6101999999999999,1.1998,0.6392],[0.6175000000000002,1.3789,0.5837999999999999],[0.5762,1.2981,0.5812000000000002],[0.7662,1.3893,0.7110000000000001],[0.5935999999999999,1.3624,0.6085999999999998],[0.6640000000000001,1.3396,0.6700999999999999],[0.7143000000000002,1.2212,0.5961999999999998],[0.7092,1.2928,0.6828999999999998],[0.6172,1.205,0.7360999999999998],[0.7134999999999998,1.283,0.6504999999999999],[0.6429,1.3528,0.6948999999999999],[0.7158000000000002,1.2258,0.7091999999999998],[0.7084999999999999,1.3107,0.6375],[0.6836000000000002,1.2641,0.7165000000000001],[0.6998000000000002,1.28,0.6047],[0.7343999999999999,1.3023,0.5744],[0.7311999999999999,1.2265000000000001,0.6026999999999998],[0.6343000000000001,1.2239,0.6323999999999999],[0.6598000000000002,1.2128,0.712],[0.6118000000000001,1.2804,0.5637999999999999],[0.6644000000000001,1.2469999999999999,0.6144999999999998],[0.7645,1.3136,0.6367999999999998],[0.6669999999999998,1.3568,0.6639000000000002],[0.6743999999999999,1.2896,0.6053],[0.6168999999999998,1.3502999999999998,0.7295],[0.6192000000000002,1.3685,0.5607],[0.6465999999999998,1.3294000000000001,0.6333999999999997],[0.7605,1.345,0.7316],[0.6722999999999999,1.2465000000000002,0.7546999999999999],[0.7261000000000002,1.2888,0.6066999999999998],[0.6242999999999999,1.2383,0.7045999999999999],[0.6497999999999999,1.1923,0.6016999999999999],[0.6490999999999998,1.2044000000000001,0.6205],[0.6183999999999998,1.1791,0.5814000000000001],[0.7092,1.2936999999999999,0.6226],[0.6204000000000001,1.2052,0.7318],[0.7675000000000001,1.2717,0.7543],[0.8117999999999999,1.3239,0.6451],[0.7675000000000001,1.2379,0.7478999999999998],[0.6890000000000001,1.2503,0.6771999999999998],[0.7182,1.1876,0.7329999999999999],[0.8058999999999998,1.1923,0.6740999999999999],[0.7179000000000002,1.2503,0.7095],[0.6867000000000001,1.1844000000000001,0.6489999999999998],[0.8033999999999999,1.1611,0.6136999999999999],[0.6596000000000002,1.3058999999999998,0.5955999999999999],[0.6960000000000002,1.3456000000000001,0.7590000000000001],[0.7181000000000002,1.249,0.7276],[0.7332999999999998,1.2623,0.7752999999999999],[0.6667000000000001,1.3174000000000001,0.7335],[0.7810999999999999,1.3109,0.5902999999999998],[0.7886000000000002,1.2498,0.6563000000000001],[0.8033000000000001,1.2912,0.6784999999999999],[0.7404999999999999,1.3117999999999999,0.7543999999999997],[0.8235000000000001,1.1800000000000002,0.7091999999999998],[0.7088999999999999,1.2038,0.6643999999999999],[0.7000000000000002,1.2899,0.7344999999999999],[0.6593,1.3165,0.6131],[0.8010000000000002,1.3353000000000002,0.7222000000000002],[0.6484000000000001,1.1692,0.6611999999999998],[0.7385999999999999,1.2506,0.784],[0.6686999999999999,1.2071,0.7034],[0.6818,1.2885,0.6796999999999997],[0.7134,1.2112,0.6577],[0.7471999999999999,1.1349,0.6521999999999999],[0.7467000000000001,1.1592,0.6807999999999998],[0.7240000000000002,1.2349,0.7171000000000001],[0.7709000000000001,1.1709,0.6378000000000001],[0.8184,1.192,0.7398999999999998],[0.718,1.2869000000000002,0.7470000000000001],[0.7591000000000001,1.2271999999999998,0.7219999999999998],[0.8371,1.1498,0.6811999999999998],[0.7707000000000002,1.169,0.6512999999999998],[0.8085,1.1945000000000001,0.7840999999999998],[0.6709,1.2532999999999999,0.6784000000000001],[0.714,1.1792,0.7674999999999998],[0.8332000000000002,1.3037999999999998,0.6218999999999999],[0.7618999999999998,1.1503999999999999,0.6708000000000001],[0.8666999999999998,1.2257,0.7398999999999998],[0.7980999999999998,1.2026,0.7468000000000001],[0.8149000000000002,1.2290999999999999,0.6984000000000001],[0.8285999999999998,1.1646999999999998,0.7005999999999999],[0.7589999999999999,1.2033,0.7489999999999999],[0.7738999999999998,1.1396,0.728],[0.7772000000000001,1.126,0.7219999999999998],[0.7462,1.1046,0.6479000000000001],[0.835,1.2933,0.7545],[0.6897000000000002,1.1475,0.7388000000000001],[0.8169,1.255,0.6813999999999998],[0.8393000000000002,1.2141,0.6662999999999999],[0.8313000000000001,1.1526999999999998,0.6828999999999998],[0.7768999999999999,1.1498,0.7398],[0.8754,1.2421,0.7466000000000002],[0.7484000000000002,1.1080999999999999,0.8194999999999999],[0.8046000000000002,1.2669000000000001,0.6533999999999998],[0.867,1.0785,0.6695999999999998],[0.8369,1.2017,0.8088],[0.7917000000000001,1.0998,0.7777999999999998],[0.8411,1.2549000000000001,0.8221999999999998],[0.8416999999999999,1.1962000000000002,0.6977],[0.7812999999999999,1.2125,0.8004],[0.7827999999999999,1.0756000000000001,0.7889000000000002],[0.8972000000000002,1.2281,0.6988000000000001],[0.8597999999999999,1.24,0.7148999999999999],[0.7362000000000002,1.2075,0.7716999999999998],[0.8275000000000001,1.0636,0.8261999999999998],[0.8797000000000001,1.0678,0.7041999999999999],[0.8885000000000001,1.064,0.8189],[0.8751000000000002,1.1213,0.8173000000000001],[0.8464,1.0806,0.7973000000000001],[0.8616999999999999,1.2406000000000001,0.7363000000000002],[0.8239000000000001,1.0554000000000001,0.6756999999999997],[0.9127999999999998,1.1148,0.7369999999999999],[0.7683,1.178,0.7323999999999999],[0.7902,1.1841,0.8413999999999999],[0.8054999999999999,1.0452,0.7762],[0.8233000000000001,1.0729,0.7623999999999997],[0.8327,1.1461000000000001,0.7251999999999998],[0.8422999999999998,1.127,0.7647999999999999],[0.8626999999999998,1.0987,0.8545],[0.7320000000000002,1.0763,0.8642999999999998],[0.8858000000000001,1.0598999999999998,0.8385],[0.9169,1.0734,0.8469999999999998],[0.8412000000000002,1.1606,0.7636999999999998],[0.8531,1.1827,0.8718999999999999],[0.8936000000000002,1.1223999999999998,0.8541999999999998],[0.8645999999999998,1.1049,0.7888],[0.7677,1.0659999999999998,0.7457999999999998],[0.8605999999999998,1.1425,0.7550000000000001],[0.9335,0.9957,0.7102000000000002],[0.8875000000000002,1.1358000000000001,0.8667],[0.8401999999999998,1.0885,0.8122999999999998],[0.9215,1.0685,0.7407999999999999],[0.8298000000000001,1.1644999999999999,0.7787],[0.7589999999999999,1.0909,0.8465],[0.8894000000000002,1.071,0.8444999999999998],[0.8408000000000002,1.1103,0.8459000000000001],[0.8757999999999999,1.0173,0.8793],[0.8714,1.116,0.8604999999999998],[0.8893,1.0453999999999999,0.8179999999999998],[0.7660999999999998,0.9670000000000001,0.8434000000000001],[0.8437000000000001,1.0093,0.8425999999999998],[0.8353999999999999,0.958,0.7419],[0.8073000000000001,1.0996000000000001,0.8526],[0.8664999999999998,0.9589,0.8909],[0.8172999999999999,0.9809,0.7741999999999998],[0.7869000000000002,1.0619,0.8309999999999997],[0.7951999999999999,0.9490000000000001,0.8002],[0.8464999999999998,1.1251,0.7876000000000001],[0.9424999999999999,0.9673,0.8814],[0.9070999999999998,0.9521999999999999,0.7741],[0.8426999999999998,0.9647,0.7779999999999998],[0.8052000000000001,0.9958,0.8930999999999998],[0.8645,0.9630000000000001,0.9044000000000001],[0.8167,1.0681,0.7297999999999998],[0.9664000000000001,1.0321,0.7783],[0.8315999999999999,1.0329000000000002,0.7388000000000001],[0.9285999999999999,0.9408000000000001,0.8598000000000001],[0.8643000000000001,1.0779999999999998,0.7493999999999998],[0.9116,1.0655000000000001,0.7596999999999998],[0.8433000000000002,0.96,0.8568],[0.9226000000000001,1.0872000000000002,0.7686],[0.9134000000000002,0.9234,0.8110000000000002],[0.8353999999999999,0.9091,0.8255999999999999],[0.9859,0.9638,0.8423],[0.8485999999999998,0.8931,0.7787],[0.9325999999999999,0.9233,0.8535000000000001],[0.8214999999999999,0.9858,0.7428999999999999],[0.9605000000000001,1.0121,0.796],[0.7989000000000002,1.0615,0.8806999999999998],[0.9550000000000001,1.0173,0.7990000000000002],[0.8247,0.8984,0.8600999999999999],[0.8332999999999999,1.0255999999999998,0.7697],[0.9746999999999999,0.8884000000000001,0.8221],[0.8176000000000001,0.9545,0.8499999999999999],[0.9977,0.9399,0.8785000000000001],[0.8546999999999998,0.9192,0.7619],[0.9540000000000002,1.0431,0.9075],[0.9820000000000002,0.9933000000000001,0.9362999999999999],[0.9687999999999999,0.9650000000000001,0.9233],[0.8393000000000002,0.9544,0.9151],[0.8879000000000001,0.8943,0.8461000000000001],[0.8717999999999999,0.8821,0.9237],[0.9821,0.9877,0.7838],[0.8874,0.8779,0.7546000000000002],[0.9990999999999999,0.892,0.9208999999999998],[0.8813,0.8626,0.8665],[0.9514,0.9024,0.9006000000000001],[0.9626999999999999,0.8165,0.9336],[0.903,0.8887,0.7889000000000002],[0.9340000000000002,0.7964,0.8648999999999998],[0.9235000000000002,0.8054,0.8341000000000001],[0.9729000000000001,0.9622999999999999,0.9077],[0.8925999999999998,0.9542999999999999,0.8065999999999998],[0.8471000000000002,0.9737,0.7891000000000001],[0.9765999999999999,0.9588,0.7846],[1.0261,0.9181,0.7872000000000001],[0.9276,0.8109,0.8139000000000001],[0.9466000000000001,0.8239000000000001,0.9084999999999999],[0.8957999999999999,0.9036,0.7865999999999997],[0.9541,0.9431,0.9461999999999999],[0.9988000000000001,0.8528,0.9339000000000002],[0.9950999999999999,0.7777000000000001,0.8909],[0.8769999999999998,0.8951,0.7731999999999999],[1.0181,0.8184,0.8602000000000001],[0.9868000000000001,0.9234,0.8941000000000001],[0.883,0.9121,0.8472000000000002],[0.8856000000000002,0.8351999999999999,0.9614],[0.8986999999999998,0.9215,0.8604999999999998],[0.9213,0.8671,0.8852],[1.0166,0.7933,0.8230000000000002],[0.8708,0.727,0.8533000000000002],[0.8957999999999999,0.8912,0.7901],[0.9483000000000001,0.7746,0.9614],[1.0327000000000002,0.742,0.8480000000000001],[1.0076999999999998,0.6973,0.8204],[0.9142000000000001,0.7267,0.8882999999999999],[1.0566,0.862,0.9526999999999999],[1.0078,0.758,0.8907999999999998],[0.9449999999999998,0.7587999999999999,0.9766999999999999],[0.9329999999999998,0.6829000000000001,0.8230999999999999],[1.0400999999999998,0.6819,0.9614999999999998],[0.8809,0.6776,0.8345],[0.8824999999999998,0.776,0.8825999999999998],[0.8950999999999998,0.8122,0.9431999999999998],[1.0314,0.7758,0.9572],[0.8807999999999998,0.7219,0.9608000000000001],[0.9794,0.6618999999999999,0.9610999999999998],[1.0377999999999998,0.8183,0.8385999999999998],[0.8847,0.6473,0.9223999999999999],[0.9258000000000002,0.677,0.8474999999999999],[1.0596999999999999,0.7457,0.9437999999999998],[0.9569999999999999,0.7524,0.9326999999999999],[1.0457,0.6883,0.8979999999999999],[1.0415,0.6902,0.9863000000000002],[0.9483000000000001,0.772,0.9825999999999999],[0.9003999999999999,0.6156,0.8642000000000001],[1.0145,0.7326,1.0010000000000001],[0.9546999999999999,0.677,0.8615000000000002],[1.0499,0.729,0.9120999999999999],[1.0535,0.6504,0.8343999999999998],[1.0097,0.665,0.8682000000000001],[0.9024999999999999,0.6904,1.0102999999999998],[0.9302000000000001,0.7142,0.9995999999999998],[1.0255999999999998,0.7451,0.9846999999999999],[0.9234,0.6920999999999999,0.9286999999999999],[0.9828000000000001,0.6791,0.8976],[0.9196,0.671,0.9995999999999998],[0.9860000000000002,0.7435,0.9966999999999999],[1.0011999999999999,0.7079,0.8848999999999998],[0.9535999999999998,0.6869000000000001,0.9037],[0.9903,0.5843,0.9452999999999998],[1.0613000000000001,0.6162,1.0256999999999998],[0.9159999999999999,0.5643,1.0209],[0.9645000000000001,0.5219,0.8741000000000001],[1.0953,0.5854,1.0035999999999998],[1.0977999999999999,0.52,0.9166999999999998],[0.911,0.5468,0.8455000000000001],[0.9373,0.5412,0.9719],[0.9847000000000001,0.6331,0.9153999999999998],[0.9647000000000001,0.6797,0.8570999999999998],[1.0644999999999998,0.5647,0.9816],[0.9796,0.4846,0.9982999999999997],[0.9874,0.5549,0.8608],[1.1080999999999999,0.4928,0.9052999999999998],[0.9430999999999998,0.6158,1.0098999999999998],[0.9236,0.4973,0.9652999999999998],[0.9628999999999999,0.5059,0.9801999999999997],[1.0135,0.5835,0.8707],[0.9767999999999999,0.4666,0.9543999999999999],[1.0385,0.4679,0.9359],[0.9961000000000002,0.4909,0.9999],[0.9937999999999998,0.4344,0.9355999999999998],[1.0804,0.4919,0.8659999999999999],[1.0154,0.4309,0.9149],[1.0932,0.5496,0.9033999999999998],[0.9809000000000001,0.5565,0.9269999999999998],[1.125,0.5408,0.9412999999999998],[1.0935000000000001,0.5244,0.8819000000000001],[0.9799000000000002,0.5278,0.8840000000000001],[0.9481000000000002,0.5696,0.9044999999999999],[1.0565000000000002,0.486,0.8657000000000001],[1.0613000000000001,0.4613,1.0353],[0.9695999999999998,0.37729999999999997,1.0047],[1.0863,0.5495,0.8762000000000001],[1.0255,0.5089,1.0098],[1.0710000000000002,0.5289,0.9646999999999999],[1.0386000000000002,0.3709,1.0391000000000001],[0.9935,0.5235,1.0273],[0.9967999999999999,0.3619,0.897],[1.0426000000000002,0.3725,0.9200000000000002],[1.0718999999999999,0.3844,1.0403999999999998],[1.0962,0.4911,1.0251],[0.9828000000000001,0.4821,0.9059999999999999],[1.0926,0.3971,0.9383000000000001],[1.0817,0.3463,0.9233999999999998],[1.1589999999999998,0.4168,1.0818],[1.0354999999999999,0.43320000000000003,1.0496999999999999],[1.093,0.3121,1.0416999999999998],[1.1591,0.4755,1.0414],[1.0238999999999998,0.3006,1.0312],[1.0814,0.3863,0.9823999999999999],[0.9868000000000001,0.443,0.9732999999999998],[1.068,0.4076,0.9656],[1.1415000000000002,0.3069,1.0148],[1.1573000000000002,0.3702,0.9932000000000001],[0.9839000000000002,0.30610000000000004,0.8991999999999998],[1.1239,0.39,1.0902],[0.9965000000000002,0.2807,1.0399999999999998],[1.0086,0.4018,1.0553000000000001],[1.0175,0.2973,1.0906],[1.0106000000000002,0.26180000000000003,0.9115999999999997],[0.9962,0.2173,1.0443],[0.9977999999999998,0.30010000000000003,1.0588],[1.0636999999999999,0.3215,0.9913999999999998],[1.0116999999999998,0.30410000000000004,1.1049],[0.9994999999999998,0.2168,1.0843999999999998],[0.9964,0.18780000000000002,1.0252000000000001],[1.0977000000000001,0.18580000000000002,0.9890000000000001],[1.1742,0.2022,0.9875],[1.0293,0.2254,1.0199],[1.1869,0.2151,1.0831000000000002],[1.1453000000000002,0.248,1.0915000000000001],[1.1549999999999998,0.16249999999999998,0.9160999999999999],[1.1387999999999998,0.23120000000000002,0.9625999999999999],[1.0689000000000002,0.25229999999999997,1.0912],[1.0032999999999999,0.18209999999999998,0.9776],[1.0322,0.16570000000000001,1.0916],[1.1726,0.21400000000000002,0.9334],[1.0513,0.2898,0.9825999999999999],[1.1619000000000002,0.278,1.0919999999999999],[1.1246,0.18619999999999998,1.0413],[1.0396,0.16249999999999998,1.0925999999999998],[1.1204999999999998,0.09389999999999998,1.0317999999999998],[1.0232999999999999,0.09839999999999999,0.9583000000000002],[1.0135999999999998,0.14579999999999999,1.0275999999999998],[1.0166,0.10520000000000002,0.9993000000000001],[1.0993,0.18669999999999998,1.1018000000000001],[1.1032000000000002,0.20229999999999998,1.1312],[1.0593,0.22610000000000002,1.0214],[1.2080000000000002,0.06769999999999998,1.0868],[1.2107999999999999,0.19290000000000002,1.0180999999999998],[1.1199,0.10809999999999997,1.0795000000000001],[1.1538,0.08090000000000003,1.062],[1.2157,0.04409999999999997,1.0521],[1.1521,0.17149999999999999,1.1359000000000001],[1.0284,0.06940000000000002,1.0315999999999999],[1.1576,0.04859999999999998,1.0978999999999999],[1.2254,0.06459999999999999,1.1333],[1.1905999999999999,0.06680000000000003,1.0347000000000002],[1.1816,-0.014100000000000001,1.1131],[1.1507,0.07250000000000001,1.0094],[1.0464000000000002,0.06340000000000001,0.9913000000000001],[1.1976,-0.012299999999999978,1.1489999999999998],[1.0905999999999998,-0.056400000000000006,1.0609],[1.0480999999999998,0.030200000000000005,1.07],[1.0791,0.0968,1.0515999999999999],[1.1671999999999998,0.11109999999999998,1.1365],[1.2226,-0.018100000000000005,1.1428999999999998],[1.092,-0.08830000000000005,0.9759999999999998]];

const GyroPoint = (props) => {

    const calculateFadeColor = (fadePos) => {
        let color = new THREE.Color();
        color.setHSL(fadePos, 1, 0.5);
        return color;
    }

    return (
        <mesh scale={pointSize} position={props.pointPosition}>
            <sphereBufferGeometry />
            <meshBasicMaterial color={calculateFadeColor(props.fadePosition)} />
        </mesh>
    )
}

const GyroVisual = () => {

    const readPosData = () => {
        console.log("Reading Start...")
        var request = new XMLHttpRequest();
        request.open("GET", "posdata.txt");
        request.onloadend = function()
        {
    
            var data = request.response;
            // console.log(data)
            data = data.split('\r\n');
    
            // console.log(data)
            for (var pos of data) {
                if (pos.length > 0) {
                    let posVars = pos.split('\t')
                    posData.push([parseFloat(posVars[1]) - 2, parseFloat(posVars[2]) + 0.5, parseFloat(posVars[0]) - 1.8])
                }
            }
            console.log(JSON.stringify(posData))
            defaultPosData = posData;
        }
        request.send();
        console.log("Reading Finished...")
    }

    useEffect(() => {
        readPosData();
        console.log("effect!")
    }, [posData, defaultPosData])
    
    return (
        <Canvas>
            <color attach="background" args={["grey"]} />
            <OrbitControls />
            <Suspense fallback={null}>
                {defaultPosData.map((gPos, index) => {
                    return <GyroPoint key={index} fadePosition={index / defaultPosData.length} pointPosition={gPos} />
                })}
            </Suspense>
            <primitive object={new THREE.AxesHelper(5)} />
        </Canvas>
    )
}

export default GyroVisual;